webpackJsonp([9],{354:function(e,t,n){var a=n(152)(n(553),n(895),null,null,null);e.exports=a.exports},553:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(854);n.n(a);t.default={name:"Device",data:function(){var e=this;return{pageSize:30,currentPage:1,counts:0,createDeviceCtrl:!1,tableData:[],ReqList:{where:{offset:0,limit:30,sortBy:"createdAt",order:1}},deviceMsgList:{type:"",name:"",mac:""},deviceRules:{mac:[{validator:function(t,n,a){if(!n)return a(new Error(e.$t("devicePage.form.noMac")));setTimeout(function(){/^[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}$/.test(n)?a():a(new Error(e.$t("devicePage.form.checkMac")))},1e3)},trigger:"blur"}]}}},methods:{getDeviceData:function(){var e=this;this.$http.GetGroupsDeviceList(this.$route.params.id,this.ReqList).then(function(t){for(var n=[],a=0;a<t.data.list.length;a++)n.push({num:a+1+30*(e.currentPage-1),type:t.data.list[a].child.model,mac:t.data.list[a].child.mac,userName:t.data.list[a].child.name,childId:t.data.list[a]._id});e.tableData=n,e.counts=t.data.count}).catch(function(e){console.log(e)})},createDevice:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:t.$t("messageTip.addFail"),duration:2e3,type:"error"}),!1;t.$http.AddDeviceToGroups(t.$route.params.id,t.deviceMsgList).then(function(e){t.$message({message:t.$t("messageTip.addSuccess"),duration:2e3,type:"success"}),t.getDeviceData()}).catch(function(){t.$message({message:t.$t("messageTip.addFail"),duration:2e3,type:"error"})})})},deleteRow:function(e){var t=this;this.$confirm(this.$t("messageTip.msgBox.confirm"),this.$t("messageTip.msgBox.tip"),{confirmButtonText:this.$t("messageTip.msgBox.confirmText"),cancelButtonText:this.$t("messageTip.msgBox.cancelText"),type:"warning"}).then(function(){t.$http.DeleteGroupsDevices(t.$route.params.id,e.childId).then(function(e){var n=t.ReqList.where.offset,a=t.counts/n,i=(t.counts-1)/n;0!==n&&Math.ceil(a)===t.currentPage&&i%1==0?t.currentPage-=1:t.getDeviceData()}),t.$message({type:"success",message:t.$t("messageTip.deleteSuccess")})}).catch(function(){t.$message({type:"info",message:t.$t("messageTip.cancelDelete")})})},currentPageChange:function(e){this.ReqList.where.offset=30*(e-1),this.getDeviceData()}},created:function(){this.getDeviceData()}}},577:function(e,t,n){t=e.exports=n(339)(!0),t.push([e.i,".device-page{background:#fff;overflow:hidden}.device-page .device-header{padding:20px 40px 20px 22px;justify-content:space-between}.device-page .device-header,.device-page .device-header>.device-header-back{-webkit-display:flex!important;-moz-display:flex!important;-ms-display:flex!important;-o-display:flex!important;display:flex!important;align-items:center}.device-page .device-header>.device-header-back{cursor:pointer}.device-page .device-header>.device-header-back>span{margin-left:6px}.device-page .device-header .add-btn{background:#60ceb8;color:#fff;line-height:36px;width:70px;outline:none;border:0;padding:0;border-radius:6px}.device-page .device-table{text-align:center;width:100%;border-left:0}.device-page .device-table>.el-table__header-wrapper .is-leaf{text-align:center}.device-page .device-table>.el-table__header-wrapper .is-leaf>.cell{color:#2dbad2}.device-page .device-table>.el-table__header-wrapper .el-table__header tr>th:nth-last-of-type(2)>.cell{text-align:right;padding-right:56px;padding-left:0}.device-page .device-table>.el-table__body-wrapper{overflow:visible}.device-page .device-table>.el-table__body-wrapper .el-table__row td:last-of-type>.cell{text-align:right;padding:2px 40px 2px 0}.device-page .device-table>.el-table__body-wrapper .el-table__row td:last-of-type>.cell .el-button{border:0;height:25px;width:60px;padding:4px 0}.device-page .device-table>.el-table__body-wrapper .el-table__row td:last-of-type>.cell .el-button span{color:#fff}.device-page .device-table>.el-table__body-wrapper .device-table-editor{background:#23a9db}.device-page .device-table>.el-table__body-wrapper .device-table-delete{background:#ed6965}.device-page .device-table:after{width:0}.device-page .device-pagination{float:right;padding:20px 40px}.device-page .device-shade{top:0;left:0;position:fixed;width:100%;height:100%;background:rgba(0,0,0,.6);z-index:88}.device-page .device-window{position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;width:40%;min-width:460px;height:330px;border:1px solid #2dbad2;background:#fff;-webkit-border-radius:6px!important;-moz-border-radius:6px!important;-ms-border-radius:6px!important;border-radius:6px!important}.device-page .device-window .add-device-top{background:#2dbad2;padding:10px;color:#fff}.device-page .device-window .add-device-top>i{float:right}.device-page .device-window .add-device-info{padding:10px 20px 0}.device-page .device-window .add-device-info>.device-input-wrap{padding-top:14px}.device-page .device-window .add-device-btn{padding-left:20px}.device-page .device-window .add-device-btn .device-create-btn{background:#2dbad2;color:#fff;border:0}.device-page .addDevice-enter-active,.device-page .addDevice-leave-active{transition:opacity .4s}.device-page .addDevice-enter,.device-page .addDevice-leave-to{opacity:0}","",{version:3,sources:["/home/shanzm/workspace/frontend/neocloud-frontend/meeting/src/components/system/device/src/components/system/device/device.scss","/home/shanzm/workspace/frontend/neocloud-frontend/meeting/src/components/system/device/src/_mixins.scss"],names:[],mappings:"AACA,aACI,gBAAgB,AAChB,eAAgB,CA2InB,AA7ID,4BAIQ,4BAA4B,AAE5B,6BAA8B,CAqBjC,AA3BL,4ECsIQ,+BAAyC,AAAzC,4BAAyC,AAAzC,2BAAyC,AAAzC,0BAAyC,AAAzC,uBAAyC,AD/HzC,kBAAmB,CAQlB,AAfT,gDAWY,cAAe,CAIlB,AAfT,qDAagB,eAAgB,CACnB,AAdb,qCAiBY,mBCZK,ADaL,WAAW,AACX,iBAAiB,AACjB,WAAW,AACX,aAAa,AACb,SAAS,AACT,UAAU,AACV,iBAAkB,CAErB,AA1BT,2BA6BQ,kBAAkB,AAClB,WAAW,AACX,aAAc,CAiDjB,AAhFL,8DAkCgB,iBAAkB,CAIrB,AAtCb,oEAoCoB,aCjCK,CDkCR,AArCjB,uGA0CwB,iBAAiB,AACjB,mBAAmB,AACnB,cAAe,CAClB,AA7CrB,mDAmDY,gBAAiB,CA4BpB,AA/ET,wFA0DwB,iBAAiB,AACjB,sBAAuB,CAU1B,AArErB,mGA6D4B,SAAQ,AACR,YAAW,AACX,WAAU,AACV,aAAa,CAIhB,AApEzB,wGAkEgC,UAAU,CACb,AAnE7B,wEA0EgB,kBCjEC,CDkEJ,AA3Eb,wEA6EgB,kBCnEC,CDoEJ,AA9Eb,iCAkFQ,OAAQ,CACX,AAnFL,gCAqFQ,YAAY,AACZ,iBAAkB,CACrB,AAvFL,2BAyFQ,MAAM,AACN,OAAO,AACP,eAAe,AACf,WAAW,AACX,YAAY,AACZ,0BAA2B,AAC3B,UAAW,CACd,AAhGL,4BAkGQ,kBAAkB,AAClB,MAAM,AACN,OAAO,AACP,SAAS,AACT,QAAQ,AACR,YAAY,AACZ,UAAU,AACV,gBAAgB,AAChB,aAAa,AACb,yBCxGiB,ADyGjB,gBAAgB,ACctB,oCAAyC,AACtC,iCAAsC,AACrC,gCAAqC,AACjC,2BAAiC,CDOtC,AApIL,4CA+GY,mBC5Ga,AD6Gb,aAAa,AACb,UAAW,CAId,AArHT,8CC2IE,WDxBkC,CACvB,AApHb,6CAuHY,mBAAyB,CAI5B,AA3HT,gEAyHgB,gBAAiB,CACpB,AA1Hb,4CA6HY,iBAAkB,CAMrB,AAnIT,+DA+HgB,mBC5HS,AD6HT,WAAW,AACX,QAAS,CACZ,AAlIb,0EAuIQ,sBACJ,CAAC,AAxIL,+DA2IQ,SACJ,CAAC",file:"device.scss",sourcesContent:["@import '../../../_mixins.scss';\n.device-page{\n    background: #FFF;\n    overflow: hidden;\n    .device-header{\n        padding: 20px 40px 20px 22px;\n        @include css3(display, flex);\n        justify-content: space-between;\n        align-items: center;\n        >.device-header-back{\n            @include css3(display, flex);\n            align-items: center;\n            cursor: pointer;\n            >span{\n                margin-left: 6px;\n            }   \n        }\n        .add-btn{\n            background: $addBtn;\n            color: #fff;\n            line-height: 36px;\n            width: 70px;\n            outline: none;\n            border: 0;\n            padding: 0;\n            border-radius: 6px;\n            \n        }\n    }\n    .device-table{\n        text-align: center;\n        width: 100%;\n        border-left: 0;\n        >.el-table__header-wrapper{\n            .is-leaf{\n                text-align: center;\n                >.cell{\n                    color: $essentialColour; \n                } \n            }\n            .el-table__header{\n                tr{\n                    >th:nth-last-of-type(2)>.cell{\n                        text-align: right;\n                        padding-right: 56px;\n                        padding-left: 0;\n                    }                \n                }\n   \n            }\n        }\n        >.el-table__body-wrapper{\n            overflow: visible;\n            .el-table__row{\n                td:last-of-type{\n                    >.cell{\n    //                  @include css3(display, flex);\n    //                  justify-content: space-between;\n    //                  padding: 2px 40px 2px 6px;\n                        text-align: right;\n                        padding: 2px 40px 2px 0;\n                        .el-button{\n                            border:0;\n                            height:25px;\n                            width:60px;\n                            padding:4px 0;\n                            span{\n                                color:#fff;\n                            }\n                        }\n                    }                \n                }\n    \n            }\n            .device-table-editor{\n                background: $editor;\n            }\n            .device-table-delete{\n                background: $delete;\n            }        \n        }\n    }\n    .device-table::after{\n        width: 0;\n    }\n    .device-pagination{\n        float: right;\n        padding: 20px 40px;\n    }\n    .device-shade {\n        top: 0;\n        left: 0;\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        background: rgba(0,0,0,0.6);\n        z-index: 88;\n    }\n    .device-window {\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        margin: auto;        \n        width: 40%;\n        min-width: 460px;\n        height: 330px;\n        border: 1px solid $essentialColour;\n        background: #fff;\n        @include border-radius(6px);\n        .add-device-top {\n            background: $essentialColour;\n            padding: 10px;\n            color: #fff;\n            >i {\n                @include float(right);\n            }\n        }\n        .add-device-info {\n            padding: 10px 20px 0 20px;\n            >.device-input-wrap{\n                padding-top: 14px;\n            }\n        }\n        .add-device-btn {\n            padding-left: 20px;\n            .device-create-btn{\n                background: $essentialColour;\n                color: #fff;\n                border: 0;\n            }\n        }\n    }\n    .addDevice-enter-active,\n    .addDevice-leave-active {\n        transition: opacity .4s\n    }\n    .addDevice-enter,\n    .addDevice-leave-to {\n        opacity: 0\n    }            \n}",'// =============================================================================\n// String Replace\n// =============================================================================\n$systemFontSize : 14px;\n$essentialColour: #2dbad2; // 主色\n$baseColor : #26587D;\n$addBtn : #60CEB8; // 按钮颜色\n$inputColor : #F7F6F9;\n$inputLogo : #E7E7E7;\n$firstList : #F3F7F7; // 表格第一列颜色\n$editor : #23a9db;  // 编辑按钮\n$delete : #ed6965; // 删除按钮\n\n@function str-replace($string, $search, $replace: "") {\n\t$index: str-index($string, $search);\n\n\t@if $index {\n\t\t@return str-slice($string, 1, $index - 1) + $replace + str-replace(str-slice($string, $index + str-length($search)), $search, $replace);\n\t}\n\n\t@return $string;\n}\n\n// =============================================================================\n// Font Face\n// =============================================================================\n\n@mixin font-face($name, $path, $weight: null, $style: null, $exts: eot woff2 woff ttf svg) {\n\t$src: null;\n\n\t$extmods: (\n\t\teot: "?",\n\t\tsvg: "#" + str-replace($name, " ", "_")\n\t);\n\n\t$formats: (\n\t\totf: "opentype",\n\t\tttf: "truetype"\n\t);\n\n\t@each $ext in $exts {\n\t\t$extmod: if(map-has-key($extmods, $ext), $ext + map-get($extmods, $ext), $ext);\n\t\t$format: if(map-has-key($formats, $ext), map-get($formats, $ext), $ext);\n\t\t$src: append($src, url(quote($path + "." + $extmod)) format(quote($format)), comma);\n\t}\n\n\t@font-face {\n\t\tfont-family: quote($name);\n\t\tfont-style: $style;\n\t\tfont-weight: $weight;\n\t\tsrc: $src;\n\t}\n}\n\n\n@mixin box-shadow($top, $left, $blur, $color, $inset: false) {\n  @if $inset {\n    -webkit-box-shadow:inset $top $left $blur $color !important;\n    -moz-box-shadow:inset $top $left $blur $color !important;\n    box-shadow:inset $top $left $blur $color !important;\n  } @else {\n    -webkit-box-shadow: $top $left $blur $color !important;\n    -moz-box-shadow: $top $left $blur $color !important;\n    box-shadow: $top $left $blur $color !important;\n  }\n}\n\n@mixin text-field {\n display: inline-block;\n  outline: none;\n  text-decoration: none;\n  font: 14px/100% Arial, Helvetica, sans-serif;\n  padding: .5em;\n  text-shadow: 0 1px 1px rgba(0,0,0,.3);\n  @include rounded();\n  @include box-shadow(0, 1px, 2px, rgba(0, 0, 0, 0.2));\n}\n\n@mixin button($color: $red, $text_color: $white) {\n  display: inline-block;\n  outline: none;\n  cursor: pointer;\n  text-align: center;\n  text-decoration: none;\n  font: 14px/100% Arial, Helvetica, sans-serif;\n  padding: .5em 2em .55em;\n  text-shadow: 0 1px 1px rgba(0,0,0,.3);\n  @include rounded();\n  @include box-shadow(0, 1px, 2px, rgba(0, 0, 0, 0.2));\n\n  color: $text_color !important;\n  font-weight: bold;\n  border: solid 1px darken($color, 18%);\n  background: $color;\n  @include gradient(saturate($color, 15%), darken($color, 15%));\n\n  &:hover {\n    text-decoration: none;\n    background: saturate($color, 10%);\n    @include gradient(saturate($color, 5%), darken($color, 5%));\n  }\n\n  &:active {\n    position: relative;\n    top: 1px;\n    color: saturate($color, 15%);\n    @include gradient(saturate($color, 15%), lighten($color, 15%));\n  }\n}\n\n@mixin rounded($radius: 0.5em) {\n  -webkit-border-radius: $radius;\n  -moz-border-radius: $radius;\n  border-radius: $radius;\n}\n\n@mixin gradient($from, $to) {\n  background: -webkit-gradient(linear, left top, left bottom, from($from), to($to));\n  background: -moz-linear-gradient(top,  $from, $to);\n  filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#{$from}\', endColorstr=\'#{$to}\');\n}\n\n@mixin border-radius($radius) {\n  -webkit-border-radius: $radius !important;\n     -moz-border-radius: $radius !important;\n      -ms-border-radius: $radius !important;\n          border-radius: $radius !important;\n}\n\n@mixin css3($property, $value) {  \n    @each $prefix in -webkit-,  \n    -moz-,  \n    -ms-,  \n    -o-,  \n    \'\' {  \n        #{$prefix}#{$property}: $value !important;\n    }  \n}\n\n@mixin float($float:left){\n  float:unquote($float);\n}\n'],sourceRoot:""}])},854:function(e,t,n){var a=n(577);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(340)("62ea6966",a,!0,{})},895:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"device-page"},[n("div",{staticClass:"device-header"},[n("div",{staticClass:"device-header-back",on:{click:function(t){e.$router.back()}}},[n("i",{staticClass:"fa fa-angle-left fa-2x"}),e._v(" "),n("span",[e._v(e._s(e.$t("pageCommon.back")))])]),e._v(" "),n("div",[n("button",{staticClass:"add-btn",on:{click:function(t){e.createDeviceCtrl=!0}}},[e._v(e._s(e.$t("devicePage.addDevice")))])])]),e._v(" "),n("el-table",{staticClass:"device-table",attrs:{data:e.tableData,stripe:""}},[n("el-table-column",{attrs:{prop:"num",label:e.$t("devicePage.prop.num"),width:"104"}}),e._v(" "),n("el-table-column",{attrs:{prop:"type",label:e.$t("devicePage.prop.type")}}),e._v(" "),n("el-table-column",{attrs:{prop:"mac",label:e.$t("devicePage.prop.mac")}}),e._v(" "),n("el-table-column",{attrs:{prop:"userName",label:e.$t("devicePage.prop.user")}}),e._v(" "),n("el-table-column",{attrs:{label:e.$t("devicePage.prop.Management"),width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticClass:"device-table-delete",on:{click:function(n){e.deleteRow(t.row)}}},[e._v(e._s(e.$t("pageCommon.deleteText")))])]}}])})],1),e._v(" "),e.counts>30?n("el-pagination",{staticClass:"device-pagination",attrs:{mini:"",layout:"prev, pager, next","current-page":e.currentPage,"page-size":e.pageSize,total:e.counts},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.currentPageChange}}):e._e(),e._v(" "),n("transition",{attrs:{name:"addDevice"}},[e.createDeviceCtrl?n("div",{staticClass:"device-shade",on:{click:function(t){t.stopPropagation(),e.createDeviceCtrl=!1}}},[n("div",{staticClass:"device-window",on:{click:function(t){t.stopPropagation(),e.createDeviceCtrl=!0}}},[n("div",{staticClass:"add-device-top"},[n("span",[e._v(e._s(e.$t("devicePage.form.addUser")))]),e._v(" "),n("i",{staticClass:"fa fa-close",on:{click:function(t){t.stopPropagation(),e.createDeviceCtrl=!1}}})]),e._v(" "),n("el-form",{ref:"deviceMsgList",attrs:{model:e.deviceMsgList,rules:e.deviceRules}},[n("div",{staticClass:"add-device-info"},[n("p",[e._v(e._s(e.$t("devicePage.form.type")))]),e._v(" "),n("el-form-item",{attrs:{prop:"type"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:e.$t("devicePage.form.typeText")},model:{value:e.deviceMsgList.type,callback:function(t){e.$set(e.deviceMsgList,"type",t)},expression:"deviceMsgList.type"}})],1),e._v(" "),n("p",[e._v(e._s(e.$t("devicePage.form.userName")))]),e._v(" "),n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:e.$t("devicePage.form.user")},model:{value:e.deviceMsgList.name,callback:function(t){e.$set(e.deviceMsgList,"name",t)},expression:"deviceMsgList.name"}})],1),e._v(" "),n("p",[e._v(e._s(e.$t("devicePage.form.mac")))]),e._v(" "),n("el-form-item",{attrs:{prop:"mac"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:e.$t("devicePage.form.macText")},model:{value:e.deviceMsgList.mac,callback:function(t){e.$set(e.deviceMsgList,"mac",t)},expression:"deviceMsgList.mac"}})],1)],1),e._v(" "),n("div",{staticClass:"add-device-btn"},[n("el-form-item",[n("el-button",{staticClass:"device-create-btn",on:{click:function(t){e.createDevice("deviceMsgList")}}},[e._v(e._s(e.$t("devicePage.add")))])],1)],1)])],1)]):e._e()])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=9.e69b2df85490027ed3f3.js.map